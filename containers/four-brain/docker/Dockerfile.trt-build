# Minimal TensorRT build helper image (Windows host via Docker Desktop, Linux container)
# Includes ONNX tools and validation scripts to avoid ad-hoc installs

FROM nvcr.io/nvidia/tensorrt:25.08-py3

# Ensure pip is available and install onnx for validation (trtexec is already provided by base image)
RUN python3 -m pip install --no-cache-dir --upgrade pip && \
    python3 -m pip install --no-cache-dir onnx numpy

# Validation utilities optional; skipping COPY to avoid build-time dependency on tmp/
# (We can install onnx in the container at runtime if needed.)

WORKDIR /work

# Default command keeps the container persistent for long builds via docker run -d ...
CMD ["bash", "-lc", "sleep infinity"]

