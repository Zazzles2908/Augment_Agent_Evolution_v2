# Four-Brain Turnkey System - Environment Configuration Template
# Copy this file to .env and fill in your actual values
# Generated: 2025-07-23 AEST

# ===== DATABASE CONFIGURATION =====
POSTGRES_DB=ai_system
POSTGRES_USER=postgres
POSTGRES_PASSWORD=augment_secure_2024

# ===== SUPABASE CONFIGURATION (Brain 3) =====
# Configured for Locionne_Data project
SUPABASE_URL=https://ustcfwmonegxeoqeixgg.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVzdGNmd21vbmVneGVvcWVpeGdnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwOTQyMTQsImV4cCI6MjA1NDY3MDIxNH0.WQc9SN0WuAqCZDBGqnYXjXLod7anZ222bfOalekiCzE
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVzdGNmd21vbmVneGVvcWVpeGdnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczOTA5NDIxNCwiZXhwIjoyMDU0NjcwMjE0fQ.t1PBWEyqlGdzrkOyd3F_Ywalyj4ksbiVi9NEHisxbSU

# ===== K2 API CONFIGURATION (Brain 3 & K2 Hub) =====
# Moonshot AI API key for K2 integration (from Phase7)
K2_API_KEY=sk-ixnmvSRDJwVKppxYHMFo51DU8UENg3JDh7GLJOoEScwDgRyf
K2_API_URL=https://api.moonshot.ai/v1/chat/completions
K2_MODEL=kimi-k2-0711-preview
K2_MODEL_SECONDARY=kimi-thinking-preview
K2_TIMEOUT=30
K2_MAX_TOKENS=3000

# ===== MONITORING CONFIGURATION =====
GRAFANA_PASSWORD=admin_secure_2024

# ===== RTX 5070 Ti GPU CONFIGURATION =====
# GPU device selection (0 for single GPU)
CUDA_VISIBLE_DEVICES=0

# Memory optimization settings
PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True,max_split_size_mb:512

# ===== PERFORMANCE OPTIMIZATION =====
# Quantization Strategy: 8-bit primary with 4-bit fallback
ENABLE_8BIT_QUANTIZATION=true
ENABLE_4BIT_QUANTIZATION=false

# Enable Flash Attention for memory efficiency
ENABLE_FLASH_ATTENTION=true

# Dynamic quantization switching
ENABLE_DYNAMIC_QUANTIZATION=true

# PyTorch optimizations
TORCH_COMPILE=1
CUDA_GRAPHS=1
TORCHDYNAMO_FULLGRAPH=1
NCCL_P2P_DISABLE=1

# ===== MODEL CACHE PATHS =====
HF_HOME=/workspace/models/cache
TRANSFORMERS_CACHE=/workspace/models/cache
TORCH_HOME=/workspace/models/torch_compile_cache

# ===== LOGGING CONFIGURATION =====
LOG_LEVEL=INFO
LOG_FORMAT=json

# ===== BRAIN-SPECIFIC CONFIGURATION =====
# Brain 1 (Embedding) - Qwen3-4B
BRAIN1_MODEL_NAME=Qwen/Qwen2.5-3B-Instruct
BRAIN1_MAX_LENGTH=2048
BRAIN1_BATCH_SIZE=4

# Brain 2 (Reranker) - Qwen3-4B  
BRAIN2_MODEL_NAME=Qwen/Qwen2.5-3B-Instruct
BRAIN2_MAX_LENGTH=1024
BRAIN2_BATCH_SIZE=8

# Brain 3 (Augment) - API Integration
BRAIN3_MAX_CONTEXT=128000
BRAIN3_TEMPERATURE=0.7

# Brain 4 (Docling) - Document Processing
BRAIN4_MAX_PAGES=100
BRAIN4_SUPPORTED_FORMATS=pdf,docx,txt,md

# ===== REDIS CONFIGURATION =====
REDIS_MAX_MEMORY=2gb
REDIS_POLICY=allkeys-lru

# ===== HEALTH CHECK CONFIGURATION =====
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# ===== DEVELOPMENT SETTINGS =====
# Set to 'development' for local development, 'production' for deployment
ENVIRONMENT=development

# Enable debug mode (only for development)
DEBUG=false

# ===== SECURITY SETTINGS =====
# JWT secret for authentication (generate a secure random string)
JWT_SECRET=your_jwt_secret_here

# API rate limiting
RATE_LIMIT_PER_MINUTE=60

# ===== NOTES =====
# 1. Replace all placeholder values with your actual credentials
# 2. Keep this file secure and never commit it to version control
# 3. Use strong passwords and secure API keys
# 4. For production, consider using Docker secrets or external secret management
# 5. GPU settings are optimized for RTX 5070 Ti (16GB VRAM)
# 6. 8-bit quantization is preferred for optimal performance
# 7. Adjust batch sizes based on your specific workload requirements
