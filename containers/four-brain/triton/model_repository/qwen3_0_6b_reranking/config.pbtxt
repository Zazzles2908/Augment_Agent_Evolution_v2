name: "qwen3_0_6b_reranking"
platform: "tensorrt_plan"
# Explicit-batch TensorRT engine for Qwen3-0.6B Reranker with NVFP4 quantization
max_batch_size: 0
# Pairwise input for reranker; keep INT64
input: [
  { name: "query_ids", data_type: TYPE_INT64, dims: [ -1, -1 ] },
  { name: "query_mask", data_type: TYPE_INT64, dims: [ -1, -1 ] },
  { name: "doc_ids", data_type: TYPE_INT64, dims: [ -1, -1 ] },
  { name: "doc_mask", data_type: TYPE_INT64, dims: [ -1, -1 ] }
]
output: [
  { name: "score", data_type: TYPE_FP32, dims: [ -1, 1 ] }
]

# GPU instance configuration for RTX 5070 Ti
instance_group [ { kind: KIND_GPU, count: 1 } ]

# Dynamic batching for better throughput
dynamic_batching {
  preferred_batch_size: [ 2, 4 ]
  max_queue_delay_microseconds: 100
}

# Model control is configured at the server level (--model-control-mode=explicit)
# Removed per Triton schema (model configs do not declare model_control)

