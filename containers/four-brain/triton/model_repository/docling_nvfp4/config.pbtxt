name: "docling_nvfp4"
backend: "tensorrt"
max_batch_size: 4
input [ { name: "page_tensor" data_type: TYPE_FP16 dims: [-1,-1,-1] } ]
output [ { name: "layout" data_type: TYPE_FP16 dims: [-1] } ]
instance_group [ { kind: KIND_GPU count: 1 } ]
dynamic_batching { preferred_batch_size: [1,2,4] max_queue_delay_microseconds: 2000 }
parameters: { key: "precision_mode" value: { string_value: "FP16" } }
optimization {
  execution_accelerators { gpu_execution_accelerator: [ { name: "tensorrt" } ] }
}
# Optimization profiles (min/opt/max) â€” Docling NVFP4 (C,H,W)
profile {
  name: "profile_0"
  inputs: { key: "page_tensor" value: { min: [1,768,768], opt: [2,1024,1024], max: [2,1280,1280] } }
}
# Note: preferred_batch_size adjusted to respect max_batch_size=4
